<%= form_for @user, url: form_submit_path do |f| %>
  <p>
    <%= f.label :name %>:
    <%= f.text_field :name, required: true  %>
  </p>

  <%= fields_for :addresses do |address| %>
    <p>
      <%= address.label :street %>:
      <%= address.text_field :street, required: true %>
    </p>

    <p>
      <%= address.label :city %>:
      <%= address.text_field :city, required: true %>
    </p>

    <p>
      <%= address.label :state %>:
      <%= address.text_field :state, required: true %>
    </p>

    <p>
      <%= address.label :zip %>:
      <%= address.text_field :zip, type: :number, minlength: 5, maxlength: 5, required: true %>
    </p>
  <% end %>

  <p>
    <%= f.label :email %>:
    <%= f.text_field :email, required: true, :pattern => '[^@]+@[^@]+\.[a-zA-Z]{2,6}' %>
  </p>

  <p>
    <%= f.label :password %>:
    <%= f.password_field :password %>
  </p>

  <p>
    <%= f.label :password_confirmation %>:
    <%= f.password_field :password_confirmation  %>
  </p>

  <p>
    <%= f.submit "Submit" %>
  </p>
<% end %>
